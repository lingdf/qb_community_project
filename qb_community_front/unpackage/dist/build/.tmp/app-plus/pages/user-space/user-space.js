(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user-space/user-space"],{"4be8":function(t,e,n){},7794:function(t,e,n){"use strict";n.r(e);var r=n("c707"),u=n.n(r);for(var i in r)"default"!==i&&function(t){n.d(e,t,function(){return r[t]})}(i);e["default"]=u.a},c19c:function(t,e,n){"use strict";var r=n("4be8"),u=n.n(r);u.a},c707:function(t,e,n){"use strict";(function(t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=s(n("a34a")),i=s(n("1bce"));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e){return f(t)||c(t,e)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function c(t,e){var n=[],r=!0,u=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done);r=!0)if(n.push(s.value),e&&n.length===e)break}catch(o){u=!0,i=o}finally{try{r||null==a["return"]||a["return"]()}finally{if(u)throw i}}return n}function f(t){if(Array.isArray(t))return t}function l(t,e,n,r,u,i,s){try{var a=t[i](s),o=a.value}catch(c){return void n(c)}a.done?e(o):Promise.resolve(o).then(r,u)}function d(t){return function(){var e=this,n=arguments;return new Promise(function(r,u){var i=t.apply(e,n);function s(t){l(i,r,u,s,a,"next",t)}function a(t){l(i,r,u,s,a,"throw",t)}s(void 0)})}}var h=function(){return n.e("components/user-space/user-space-head").then(n.bind(null,"7ee5"))},p=function(){return n.e("components/index/swiper-tab-head").then(n.bind(null,"f1f1"))},m=function(){return n.e("components/common/common-list").then(n.bind(null,"f2b6"))},b=function(){return n.e("components/common/load-more").then(n.bind(null,"87e2"))},g=["保密","单身","已婚"],v=["秘密","IT","金融","管理"],w=["../../static/bgimg/1.jpg","../../static/bgimg/2.jpg","../../static/bgimg/3.jpg","../../static/bgimg/4.jpg"],y={components:{userSpaceHead:h,swiperTabHead:p,commonList:m,loadMore:b},data:function(){return{menuShow:!1,userInfo:"",userCount:"",img:"",imgIndex:0,tabIndex:0,tabBars:[{name:"主页",id:"home"},{name:"动态",id:"dynamic"}],tabList:[{list:[]},{loadMoreText:"上拉加载更多",page:1,list:[]}]}},onNavigationBarButtonTap:function(t){0==t.index&&this.togleMenuShow()},onShow:function(){this.imgIndex=Math.floor(3*Math.random()+1),this.img=w[this.imgIndex]},onLoad:function(t){this.__initUserData(t.userid)},methods:{tabtap:function(t){this.tabIndex=t},__initUserData:function(t){this.getUserInfo(t),this.getUserCount(t),this.getList(t)},getUserInfo:function(){var e=d(u.default.mark(function e(n){var r,s,o,c,f,l,d;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.post("user/getuserinfo",{user_id:n,my_id:this.User.userinfo.id});case 2:if(r=e.sent,s=a(r,2),o=s[0],c=s[1],o){e.next=14;break}f=c.data.data,l={appAge:f.birthday?i.default.gettime.getAgeByBirthday(f.birthday):"秘密",appID:"0"+f.id,selfXz:f.birthday?i.default.gettime.getHoroscope(f.birthday):"保密",selfZy:v[f.job]||"保密",selfHome:f.path||"保密",selfLove:g[f.qg]||"保密"},d={id:f.id,bgimg:1,userimg:f.userpic,username:f.username,isFocus:!!f.fans},this.userInfo=d,this.tabList[0].list.push(l),e.next=16;break;case 14:return t.showToast({title:"用户数据拉取失败",icon:"none"}),e.abrupt("return");case 16:case"end":return e.stop()}},e,this)}));function n(t){return e.apply(this,arguments)}return n}(),getUserCount:function(){var e=d(u.default.mark(function e(n){var r,i,s,o,c,f;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.post("user/getusercount",{user_id:n});case 2:if(r=e.sent,i=a(r,2),s=i[0],o=i[1],s){e.next=12;break}c=o.data.data,f={post_count:c.post_count,follow_count:c.follow_count,fans_count:c.fans_count},this.userCount=f,e.next=14;break;case 12:return t.showToast({title:"用户数据拉取失败",icon:"none"}),e.abrupt("return");case 14:case"end":return e.stop()}},e,this)}));function n(t){return e.apply(this,arguments)}return n}(),getList:function(){var e=d(u.default.mark(function e(n){var r,i,s,o,c,f,l,d,h,p,m,b;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("index/userPost?user_id=".concat(n,"&page=1&my_id=").concat(this.User.userinfo.id));case 2:if(r=e.sent,i=a(r,2),s=i[0],o=i[1],s){e.next=35;break}if(c=o.data,f=n==this.User.userinfo.id,200!=c.code){e.next=31;break}for(l=!0,d=!1,h=void 0,e.prev=13,p=c.data[Symbol.iterator]();!(l=(m=p.next()).done);l=!0)b=m.value,this.tabList[1].list.push(this.listFormat(b,f));e.next=21;break;case 17:e.prev=17,e.t0=e["catch"](13),d=!0,h=e.t0;case 21:e.prev=21,e.prev=22,l||null==p.return||p.return();case 24:if(e.prev=24,!d){e.next=27;break}throw h;case 27:return e.finish(24);case 28:return e.finish(21);case 29:e.next=33;break;case 31:return t.showToast({title:"用户动态信息拉取失败"}),e.abrupt("return");case 33:e.next=37;break;case 35:return t.showToast({title:"用户动态信息拉取失败"}),e.abrupt("return");case 37:case"end":return e.stop()}},e,this,[[13,17,21,29],[22,,24,28]])}));function n(t){return e.apply(this,arguments)}return n}(),listFormat:function(t,e){return{id:t.id,user_id:t.user_id,username:t.user.username,userimg:t.user.userpic,isFocus:e?1:t.fans.length,title:t.title,titleimg:t.titlepic,content:t.content,age:t.user.age,sex:t.user.sex,path:t.path,type:t.type,post_class_id:t.post_class_id,isopen:t.isopen,infonum:{index:t.support?t.support.type+1:0,upnum:t.upnum,downnum:t.downnum},imgList:t.imgList,fans:t.fans,commentnum:t.commentnum,upnum:t.upnum,sharenum:t.sharenum}},focus:function(){var t={data:!0};this.userInfo.isFocus=1,this.updateFocus(t)},updateDate:function(t){switch(t.type){case"onFocus":this.updateFocus(t),this.focus();break}},updateFocus:function(t){var e=!0,n=!1,r=void 0;try{for(var u,i=this.tabList[1].list[Symbol.iterator]();!(e=(u=i.next()).done);e=!0){var s=u.value;s.isFocus=t.data}}catch(a){n=!0,r=a}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}},blackList:function(){console.log(r("拉入黑名单"," at pages\\user-space\\user-space.vue:248")),this.hideMenuShow()},sendMsg:function(){console.log(r("发送消息"," at pages\\user-space\\user-space.vue:252")),this.hideMenuShow()},hideMenuShow:function(){this.menuShow=!1},togleMenuShow:function(){this.menuShow=!this.menuShow}}};e.default=y}).call(this,n("6e42")["default"],n("0de9")["default"])},ea61:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement;t._self._c},u=[];n.d(e,"a",function(){return r}),n.d(e,"b",function(){return u})},eccc:function(t,e,n){"use strict";(function(t){n("78d4"),n("921b");r(n("66fd"));var e=r(n("f7ac"));function r(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])},f7ac:function(t,e,n){"use strict";n.r(e);var r=n("ea61"),u=n("7794");for(var i in u)"default"!==i&&function(t){n.d(e,t,function(){return u[t]})}(i);n("c19c");var s=n("2877"),a=Object(s["a"])(u["default"],r["a"],r["b"],!1,null,null,null);e["default"]=a.exports}},[["eccc","common/runtime","common/vendor"]]]);