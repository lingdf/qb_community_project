(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user-chat/user-chat"],{"4e78":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("1bce"));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){return i.e("components/user-chat/user-chat-bottom").then(i.bind(null,"725b"))},o=function(){return i.e("components/user-chat/user-chat-list").then(i.bind(null,"8941"))},u={components:{userChatBottom:s,userChatList:o},data:function(){return{scrollTop:0,style:{contentHeight:0,itemHeight:0},list:[]}},onReady:function(){this.getChatData(),this.initData(),this.pageToBottom(!0)},methods:{initData:function(){try{var e=t.getSystemInfoSync();this.style.contentHeight=e.windowHeight-t.upx2px(150)}catch(i){}},pageToBottom:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=t.createSelectorQuery().in(this),n=e?i.selectAll(".chat-item"):i.select(".chat-item");this.$nextTick(function(){var t=this;n.fields({size:!0},function(e){if(e){if(Array.isArray(e))for(var i=0;i<e.length;i++)t.style.itemHeight+=e[i].height;else t.style.itemHeight+=e.height;t.style.itemHeight>t.style.contentHeight&&(t.scrollTop=t.style.itemHeight)}}).exec(function(){})})},getChatData:function(){for(var t=[{inFrom:!1,userimg:"../../static/bgimg/3.jpg",type:"text",chatData:"嗨~想和我聊天吗?",chatTime:(new Date).getTime()}],e=0;e<t.length;e++)t[e].gstime=n.default.gettime.getChatTime(t[e].chatTime,e>0?t[e-1].chatTime:0);this.list=t},sendText:function(t){var e=(new Date).getTime(),i={inFrom:!0,userimg:this.User.userinfo.userpic,type:"text",chatData:t,chatTime:e,gstime:n.default.gettime.getChatTime(e,this.list[this.list.length-1].chatTime)};this.list.push(i),this.pageToBottom(),this.autoRply()},autoRply:function(){var t=this,e=(new Date).getTime(),i={inFrom:!1,userimg:"../../static/bgimg/3.jpg",type:"text",chatData:"抱歉,系统现在正在升级呢,听不懂你说的什么。",chatTime:e,gstime:n.default.gettime.getChatTime(e,this.list[this.list.length-1].chatTime)};setTimeout(function(){t.list.push(i),t.pageToBottom()},1e3)}}};e.default=u}).call(this,i("6e42")["default"])},"516f":function(t,e,i){"use strict";(function(t){i("78d4"),i("921b");n(i("66fd"));var e=n(i("a7e3"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("6e42")["createPage"])},"65dd":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c},a=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},"712f":function(t,e,i){"use strict";i.r(e);var n=i("4e78"),a=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);e["default"]=a.a},a7e3:function(t,e,i){"use strict";i.r(e);var n=i("65dd"),a=i("712f");for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);var o=i("2877"),u=Object(o["a"])(a["default"],n["a"],n["b"],!1,null,null,null);e["default"]=u.exports}},[["516f","common/runtime","common/vendor"]]]);